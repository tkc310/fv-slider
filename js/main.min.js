window.DEBUG_LOG=!1,window.DEBUG_STOP=!1,window.DEBUG_WIDTH=!1;let GRID_AREA_SETTINGS=[`
  'area1 area1 area2 area4 area6 area8 area10'
  'area1 area1 area3 area5 area7 area9 area11'
  `,`
  'area1 area3 area5 area5 area6 area8 area10'
  'area2 area4 area5 area5 area7 area9 area11'
  `,`
  'area1 area3 area5 area7 area9 area9 area10'
  'area2 area4 area6 area8 area9 area9 area11'
  `,`
  'area1 area2 area4 area6 area8 area10'
  'area1 area3 area5 area7 area9 area11'
  `],debug=()=>{DEBUG_WIDTH&&$("#fv").width(DEBUG_WIDTH)},changeActiveGrid=(r,a)=>{if(!["none",1,5,9].includes(r))throw"invalid targetGrid";var e="repeat(7, 250px)";switch(a.find(".item").each((a,e)=>{$(e).removeClass("active")}),r){case"none":a.css({"grid-template-columns":"repeat(6, 250px)","grid-template-areas":GRID_AREA_SETTINGS[3]});break;case 1:a.css({"grid-template-columns":e,"grid-template-areas":GRID_AREA_SETTINGS[0]});break;case 5:a.css({"grid-template-columns":e,"grid-template-areas":GRID_AREA_SETTINGS[1]});break;case 9:a.css({"grid-template-columns":e,"grid-template-areas":GRID_AREA_SETTINGS[2]})}a.find(".item").each((a,e)=>{a+1===r&&$(e).addClass("active")})},appendList=(a,e)=>{$("#slider").append($("#template_items").render({version:a,items:e}));e=$("#list_"+a);return e.find(".item").each((a,i)=>{let s=$(i);s.mouseleave(a=>{s.removeClass("hover left top right bottom")}),s.on("mouseenter",a=>{var e=s.width(),r=s.height(),t=(a.pageX-s.offset().left-e/2)*(r<e?r/e:1),a=(a.pageY-s.offset().top-r/2)*(e<r?e/r:1);switch(Math.round((180*Math.atan2(a,t)/Math.PI+180)/90)%4){case 0:$(i).addClass("hover left");break;case 1:$(i).addClass("hover top");break;case 2:$(i).addClass("hover right");break;case 3:$(i).addClass("hover bottom");break;default:return!1}})}),e},listSequence=async(a,e,r)=>{a=appendList(e,shuffle(a)),changeActiveGrid(9,a),e*=1e3;return await awaitableTimeout(15e3+e),changeActiveGrid("none",r),changeActiveGrid(1,a),await awaitableTimeout(17500+e),changeActiveGrid(5,a),await awaitableTimeout(2e4+e),changeActiveGrid(9,a),a},recursiveSequence=async(a,e,r,t)=>{var i=await listSequence(a,e,r);t.empty(),await recursiveSequence(a,e+1,i,r)},awaitableTimeout=async(e=1e4)=>{await new Promise(a=>setTimeout(()=>{if(DEBUG_STOP)throw"";a()},e))},initialize=async()=>{var a=window.DATA_SLIDES;let e=appendList(1,a),r=(e.css({opacity:0}),changeActiveGrid(5,e),await new Promise(r=>{let t=e.find("img");t.each((a,e)=>{a===t.length-1&&$(e).on("load",async()=>{await awaitableTimeout(500),r(),DEBUG_LOG&&console.log("img loaded")})})}),$("#loading").remove(),e.animate({opacity:1}),1);setInterval(()=>{if(DEBUG_LOG&&1==r&&console.log("start interval"),debug(),window.DEBUG_STOP)throw"";r++,$("#slider").css({transform:`translateX(-${r}px)`})},35),await awaitableTimeout(),changeActiveGrid(9,e);var t=await listSequence(a,2,e);await recursiveSequence(a,3,t,e)},shuffle=a=>a.sort(()=>Math.random()-.5);$(document).ready(initialize);